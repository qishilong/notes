# æ­å»ºå†…éƒ¨ç»„ä»¶åº“

**å‰ç½®å‡†å¤‡**

```bash
pnpm create vue@latest
```

æ­å»ºé¡¹ç›®æ—¶çš„é€‰é¡¹å¦‚ä¸‹ï¼š

<img src="https://xiejie-typora.oss-cn-chengdu.aliyuncs.com/2024-08-24-035259.png" alt="image-20240824115258861" style="zoom: 50%;" />

æ€è€ƒğŸ¤”ï¼šç»„ä»¶è¦åšå•å…ƒæµ‹è¯•ï¼Œä¸ºä»€ä¹ˆ Add Vitest for Unit Testing é€‰æ‹©äº† No å‘¢ï¼Ÿ

ç­”æ¡ˆï¼š

**App.vueåŸºæœ¬ç»“æ„**

```vue
<template>
  <h1>å…¬å¸å†…éƒ¨ç»„ä»¶</h1>
</template>

<script setup lang="ts"></script>

<style scoped>
.row {
  margin-bottom: 20px;
  width: 800px;
  display: flex;
  justify-content: space-evenly;
}

.footer {
  padding: 0 8px;
  font-size: 12px;
  text-align: left;
}

.level {
  color: #9199a1;
  margin-bottom: 8px;
}

.price {
  color: #f01414;
}

.footer-java {
  display: flex;
  justify-content: space-between;
  font-size: 12px;
  padding: 0 8px;
}
</style>
```

main.ts

```ts
// import './assets/main.css'

import { createApp } from 'vue'
import App from './App.vue'
import './assets/fonts/font.scss'

const app = createApp(App)
app.mount('#app')
```

å·¥ä½œç©ºé—´å®‰è£… sass-embedded

```bash
pnpm add sass-embedded -D -w
```

**ç»„ä»¶å¼€å‘**

Button ç»„ä»¶æ˜¯ä¸€ä¸ªæ¯”è¾ƒå®¹æ˜“çš„ç»„ä»¶ï¼Œä¸‹é¢æ˜¯ä¸€äº›é‡ç‚¹ï¼š

1. æ¥æ”¶ä¸€ç»„ Props
2. æ¨¡æ¿ä¸­æ ¹æ®ä¸åŒ Props æŒ‚è½½ä¸åŒçš„æ ·å¼ç±»
3. ç»„ä»¶æ ·å¼çš„ä¹¦å†™
4. æ”¯æŒæ’æ§½
5. æ”¯æŒå›¾æ ‡

Card ç»„ä»¶ä¹Ÿæ˜¯ä¸€ä¸ªæ¯”è¾ƒå®¹æ˜“çš„ç»„ä»¶ï¼š

1. å›¾ç‰‡æ˜¯å¿…ä¼  Props
2. å›¾ç‰‡æè¿°ä¼ é€’çš„æ–¹å¼æœ‰ä¸¤ç§
   - é€šè¿‡ summary Props ä¼ é€’
   - é€šè¿‡ slot è¿›è¡Œä¼ é€’
3. å¯ä»¥ä¼ é€’ footer è¿™ä¸ª slotï¼Œè¿™å°±æ¶‰åŠåˆ°å…·åæ’æ§½

Dialog ç»„ä»¶æ•´ä½“åˆ†ä¸º 3 ä¸ªéƒ¨åˆ†ï¼š

1. å¤´éƒ¨ï¼šæ”¯æŒä¸€ä¸ªå…·å slot ä»¥åŠä¸€ä¸ªå…³é—­å¯¹è¯æ¡†çš„æŒ‰é’®
2. å†…å®¹åŒºåŸŸï¼šæ”¯æŒä¸€ä¸ªé»˜è®¤çš„ slot æ’æ§½
3. åº•éƒ¨ï¼šåŒæ ·æ”¯æŒä¸€ä¸ªå…·åçš„ slot

å¦å¤–ï¼Œå¯¹è¯æ¡†çš„æ˜¾ç¤ºä¸å¦ï¼Œå–å†³äºçˆ¶çº§ç»„ä»¶ä¼ é€’è¿›æ¥çš„ visible è¿™ä¸ª Props. æ”¯æŒä¸€ä¸ªè‡ªå®šä¹‰äº‹ä»¶ closeï¼Œå½“ç‚¹å‡»å…³é—­æŒ‰é’®çš„æ—¶å€™ï¼Œä¼šè§¦å‘çˆ¶ç»„ä»¶æ‰€ä¼ é€’çš„ close å›è°ƒæ–¹æ³•ã€‚

**ç»„ä»¶æµ‹è¯•**

å®‰è£…ä¸¤ä¸ªä¾èµ–ï¼š

```bash
pnpm add @vue/test-utils jsdom -D -w
```

- @vue/test-utils: Vueå®˜æ–¹æä¾›çš„ä¸€ä¸ªæµ‹è¯•å®ç”¨å·¥å…·åº“ï¼Œä¸»è¦ç”¨äºæµ‹è¯• Vue ç»„ä»¶ã€‚ä¾‹å¦‚æä¾›äº† mount å’Œ shallowMount æ–¹æ³•ï¼Œç”¨äºå°†ç»„ä»¶æŒ‚è½½åˆ°è™šæ‹Ÿ DOM ä¸­ã€‚
  - mount æ–¹æ³•ä¼šå®Œæ•´åœ°æ¸²æŸ“ç»„ä»¶åŠå…¶å­ç»„ä»¶
  - shallowMount æ–¹æ³•åˆ™åªæ¸²æŸ“ç»„ä»¶è‡ªèº«ï¼Œå¹¶å°†å­ç»„ä»¶æ›¿æ¢ä¸ºå ä½ç¬¦
- jsdom: æ¨¡æ‹Ÿæµè§ˆå™¨ç¯å¢ƒä¸‹æµ‹è¯•ï¼Œå½“æµ‹è¯•ä¸­æ¶‰åŠåˆ° DOM æ“ä½œã€æµè§ˆå™¨ APIï¼ˆå¦‚ windowã€documentï¼‰ç­‰å†…å®¹æ—¶ï¼Œå¯ä»¥é…ç½®åœ¨æ­¤ç¯å¢ƒä¸‹è¿›è¡Œæµ‹è¯•

åœ¨ä¹¦å†™æµ‹è¯•ç”¨ä¾‹ä¹‹å‰ï¼Œéœ€è¦å…ˆåœ¨é…ç½®æ–‡ä»¶ä¸­åšç›¸åº”çš„é…ç½®ï¼Œè¿™é‡Œä¼šæ¶‰åŠåˆ°ä¸¤ä¸ªæ–¹é¢çš„é…ç½®ï¼š

1. tsconfig.json
2. vitest.config.ts

æ¥ä¸‹æ¥ä¹¦å†™æµ‹è¯•ç”¨ä¾‹ï¼š

1. Button.spec.ts
2. Card.spec.ts
3. Dialog.spec.ts

æœ€ååœ¨ package.json ä¸­æ·»åŠ æµ‹è¯•è„šæœ¬ï¼š

```json
"scripts": {
  "test:unit": "vitest",
	// ...
},
```

---

-EOF-